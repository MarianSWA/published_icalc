# Cache headers for GitHub Pages
<IfModule mod_headers.c>
  # 1 YEAR - Static assets with content hash (JS/CSS in /assets/)
  <FilesMatch "^assets/.*\.(js|css)$">
    Header set Cache-Control "public, max-age=31536000, immutable"
  </FilesMatch>

  # NO CACHE - HTML files (always get latest version)
  <FilesMatch "\.(html|htm)$">
    Header set Cache-Control "public, max-age=0, must-revalidate"
  </FilesMatch>

  # 1 WEEK - Favicons (ensure Google can cache)
  <FilesMatch "favicon\.(ico|svg|png)$">
    Header set Cache-Control "public, max-age=604800"
    Header set Content-Type "image/x-icon" env=ico
  </FilesMatch>

  # 1 WEEK - All favicon variants
  <FilesMatch "(favicon-.*|apple-touch-icon.*|android-chrome.*)\.(png|svg)$">
    Header set Cache-Control "public, max-age=604800"
  </FilesMatch>

  # 1 WEEK - Images and other static files
  <FilesMatch "\.(svg|ico|txt|png|jpg|jpeg|webp)$">
    Header set Cache-Control "public, max-age=604800"
  </FilesMatch>

  # 1 DAY - XML and manifest files
  <FilesMatch "\.(xml|json)$">
    Header set Cache-Control "public, max-age=86400"
  </FilesMatch>
</IfModule>

# Ensure favicon.ico is served with correct MIME type
<IfModule mod_mime.c>
  AddType image/x-icon .ico
  AddType image/svg+xml .svg
  AddType application/manifest+json .webmanifest
</IfModule>
